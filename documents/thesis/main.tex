\documentclass[titlepage]{article}

% General package includes
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsfonts}
\usepackage{mathtools}
\usepackage{fontspec}
\usepackage{changepage}
\usepackage{todonotes}
\usepackage{mathpartir}
\usepackage{mdframed}
% needed for some symbols in Iris
\usepackage{stmaryrd}
\usepackage{array}
\usepackage{makecell}
\usepackage{cancel}
\usepackage{xcolor}
\usepackage[misc]{ifsym}
\usepackage{xifthen}% provides \isempty test
\usepackage{longtable}
% In case \Psi need better line number links apparently \Psi need to use listings. minted will always just link to the whole code.
% from https://tex.stackexchange.com/questions/24945/reference-source-code-line-in-minted-package
% \usepackage{listings}

% \lstset{basicstyle=\ttfamily,
%     escapeinside={(*}{*)},
%     numbers=left
% }
% \usepackage{tcolorbox}

% Moving figure captions closer to the contents.
\usepackage[skip=3pt]{caption}

% Styling links
\usepackage{hyperref}
\hypersetup{
    %colorlinks=true,
    linkcolor=black,
    citecolor=black,
    %filecolor=magenta,      
    urlcolor=blue,
    % frenchlinks=true
    }
\urlstyle{same}

% For bibliography
\usepackage{biblatex}
\addbibresource{thesis.bib}

% Settings page size
\usepackage{geometry}
\geometry{a4paper, margin=3cm}

% For including images
\usepackage{graphicx}
% https://www.overleaf.com/learn/latex/Inserting_Images#The_folder_path_to_images
\graphicspath{{./images/}}

% Font configuration
\usepackage[
    math-style=ISO,
    bold-style=ISO,
    partial=upright,
    nabla=upright
]{unicode-math}

\setmainfont{Libertinus Serif}
\setsansfont{Libertinus Sans}
\setmathfont{Libertinus Math}
\setmonofont{Source Code Pro}
\newfontfamily\symfont{FreeMono}
\newfontfamily\symfontextra{FreeSerif}

% Define some unicode characters missing from Source Code Pro
\usepackage{newunicodechar}
\newunicodechar{∗}{{\symfont ∗}}
\newunicodechar{⊥}{{\symfont ⊥}}
\newunicodechar{⊤}{{\symfont ⊤}}
\newunicodechar{▷}{{\symfont ▷}}
\newunicodechar{↦}{{\symfont ↦}}
\newunicodechar{∨}{{\symfont ∨}}
\newunicodechar{∈}{{\symfont ∈}}
\newunicodechar{γ}{{\symfont γ}}
\newunicodechar{Φ}{{\symfont Φ}}
\newunicodechar{⊢}{{\symfont ⊢}}

  
% For including source code blocks
\usepackage{minted}
\usepackage{xpatch}
% Remove latex indent for source code
\setminted{autogobble,linenos,fontsize=\footnotesize}
% Define inline shortcuts without syntax highlighting
\newmintinline[ocamlin]{text}{fontsize=\footnotesize}
\newmintinline[ocamlreal]{ocaml}{fontsize=\footnotesize}
\newmintinline[coqin]{text}{}
% disable comments using italics
% from https://tex.stackexchange.com/a/469702
\xpatchcmd{\minted}{\VerbatimEnvironment}{\VerbatimEnvironment\let\itshape\relax}{}{}

\BeforeBeginEnvironment{minted}{\begin{mdframed}}
\AfterEndEnvironment{minted}{\end{mdframed}}

% Iris/separation logic definitions
\usepackage{iris}

% Some custom shortcuts
\newcommand{\hazel}{Hazel}
\newcommand{\hh}{\emph{HH}}
\newcommand{\ocf}{OCaml~5}
\newcommand{\done}{{\symfontextra ✓}}
\newcommand{\tbd}{{\symfontextra ⌛}}
\newcommand{\efork}{\emph{Fork}}
\newcommand{\esuspend}{\emph{Suspend}}
\newcommand{\egetctx}{\emph{GetContext}}
\newcommand{\gsIsWaker}[1]{\ensuremath{isWaker_{#1}}}
\newcommand{\gsIsCb}{\emph{isCallback}}
\NewDocumentCommand\ewp{O{} m O{} m m}%
  {\mathit{ewp}^{#1}_{#3}\spac\left(#2\right)\spac\left\langle#4\right\rangle\spac{\left\{#5\right\}}}
\newcommand{\ewpt}{\emph{ewp}}
\newcommand{\gsPState}{\emph{promiseState}}
\newcommand{\gsPInvIn}{\ensuremath{promiseInv'}}
\newcommand{\gsPInv}{\ensuremath{promiseInv}}
\newcommand{\pN}{\ensuremath{\mathcal{N}_p}}
\newcommand{\rN}{\ensuremath{\mathcal{N}_r}}
\newcommand{\gsFiberResources}[2]{\ensuremath{fiberResources~#1~#2}}
\newcommand{\gsIsFiberContext}{\emph{isFiberContext}}
\newcommand{\gsTLVAg}[2]{\ensuremath{tlvAg~#1~#2}}
\newcommand{\gsSavedPred}{\emph{savedPred}}
\newcommand{\gsIsPr}{\emph{isPromise}}
\newcommand{\gsIsQueue}{\emph{isQueue}}
\newcommand{\gsMainResIn}{\ensuremath{\textit{mainResult'}}}
\newcommand{\gsMainRes}{\ensuremath{\textit{mainResult}}}
\newcommand{\gsIsBcst}{\emph{isBroadcast}}
\newcommand{\gsOneShotAssign}{\ensuremath{OneShotAssign}}
\newcommand{\gspwait}[1]{\ensuremath{osWaiting\;#1}}
\newcommand{\gspdone}[1]{\ensuremath{osAssigned\;#1}}
\newcommand{\gssignal}{\emph{signalAllPermit}}
% A variable number of quads
% https://tex.stackexchange.com/a/330591
\newcommand{\myquad}[1][1]{\hspace*{#1em}\ignorespaces}
% Definitions for which I need subscripts.
% Using robust command so that the ifelse does not break when used in captions as per https://tex.stackexchange.com/a/61513
\DeclareRobustCommand{\gsReady}[1]{
  \ifthenelse{\isempty{#1}}
  {\PackageError{thesis}{Ready called without subscript}{Pass in a number as the first argument.}}
  {\ensuremath{\textit{Ready}_{#1}}}
}
\newcommand{\gsReadyF}{\ensuremath{\textit{Ready}}}
\DeclareRobustCommand{\gsIsReg}[1]{
  \ifthenelse{\isempty{#1}}
  {\PackageError{thesis}{isRegister called without subscript}{Pass in a number as the first argument.}}
  {\ensuremath{\textit{isRegister}_{#1}}}
}
\newcommand{\gsIsRegF}{\ensuremath{\textit{isRegister}}}
\DeclareRobustCommand{\proto}[1]{
  \ifthenelse{\isempty{#1}}
  {\PackageError{thesis}{proto called without subscript}{Pass in a number as the first argument.}}
  {\ensuremath{\textit{Coop}_{#1}}}
}
\newcommand{\protoF}{\ensuremath{\textit{Coop}}}

\begin{document}

\include{00_header}
\setauthor{Adrian Dapprich}
\settitle{Verifying an Effect-Based Cooperative Concurrency Scheduler in Iris}
\advisorOne{Prof. Derek Dreyer}
\advisorTwo{Prof. François Dottier}
\university{Saarland University}
\faculty{Department of Computer Science}
\thesistype{Master's}
\subdate{19}{April}{2024}
\city{Saarbrücken}

\pagenumbering{Roman}
\maketitlepage
\clearpage{\thispagestyle{empty}}
~\clearpage{\thispagestyle{empty}}

\statementpage
\clearpage{\thispagestyle{empty}}
~\clearpage{\thispagestyle{empty}}

\include{0_Abstract}
\clearpage{\thispagestyle{empty}}
~\clearpage

\pagenumbering{arabic}
\tableofcontents
\newpage

\include{1_Introduction}
\include{2_Scheduler}
\include{3_CQS}
\include{4_DomainManager}
\include{4_ThreadLocal}
\include{5_Evaluation}
\include{6_Conclusion}
\include{7_Appendix}

\printbibliography

\end{document}